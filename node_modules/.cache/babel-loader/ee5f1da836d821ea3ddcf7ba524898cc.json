{"remainingRequest":"D:\\Work\\Test\\Userlist\\node_modules\\babel-loader\\lib\\index.js!D:\\Work\\Test\\Userlist\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\work\\test\\Userlist\\src\\composables\\Users.js","dependencies":[{"path":"D:\\work\\test\\Userlist\\src\\composables\\Users.js","mtime":1660022689929},{"path":"D:\\work\\test\\Userlist\\babel.config.js","mtime":1660022689921},{"path":"D:\\Work\\Test\\Userlist\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659883016244},{"path":"D:\\Work\\Test\\Userlist\\node_modules\\babel-loader\\lib\\index.js","mtime":1659861480913},{"path":"D:\\Work\\Test\\Userlist\\node_modules\\eslint-loader\\index.js","mtime":1659883018679}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFVzZXIgZnJvbSAnLi4vYXBpL1VzZXJBcGknOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgcmVmIH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JzsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlVXNlcigpIHsKICBjb25zdCBkYXRhID0gcmVmKFtdKTsKICBjb25zdCB1c2Vyc2RhdGEgPSByZWYoW10pOwogIGNvbnN0IHVzZXIgPSByZWYoW10pOwogIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOwogIGNvbnN0IEVudGlyZVVzZXJMaXN0ID0gcmVmKFtdKTsKCiAgY29uc3QgZ2V0QWxsRGF0YSA9IGFzeW5jIHBhcmFtcyA9PiB7CiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBVc2VyLmdldCgndXNlcnMnLCB7CiAgICAgIHBhcmFtczogcGFyYW1zCiAgICB9KTsKICAgIGRhdGEudmFsdWUgPSByZXNwb25zZS5kYXRhOwogICAgdXNlcnNkYXRhLnZhbHVlID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogIH07CgogIGNvbnN0IGdldFBhZ2VEYXRhID0gYXN5bmMgcGFyYW1zID0+IHsKICAgIGxldCByZXNwb25zZSA9IGF3YWl0IFVzZXIuZ2V0KCd1c2VycycsIHsKICAgICAgcGFyYW1zOiBwYXJhbXMKICAgIH0pOwogICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuZGF0YTsKICB9OyAvL0dldCBhbGwgdXNlcidzIGRhdGEgZnJvbSBQYWdpbmF0ZWQgQXBpIHdpdGggcmVjdXJzaW9uICAgICAKCgogIGNvbnN0IGdldEVudGlyZVVzZXJMaXN0ID0gYXN5bmMgKHBhZ2VObyA9IDEpID0+IHsKICAgIGxldCByZXMgPSBhd2FpdCBnZXRQYWdlRGF0YSh7CiAgICAgIHBhZ2U6IHBhZ2VObwogICAgfSk7CgogICAgaWYgKHJlcy5sZW5ndGggPiAwKSB7CiAgICAgIEVudGlyZVVzZXJMaXN0LnZhbHVlID0gRW50aXJlVXNlckxpc3QudmFsdWUuY29uY2F0KHJlcyk7CiAgICAgIHJlcy5jb25jYXQoYXdhaXQgZ2V0RW50aXJlVXNlckxpc3QocGFnZU5vICsgMSkpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHJldHVybiByZXM7CiAgfTsKCiAgY29uc3QgZ2V0VXNlciA9IGFzeW5jIGlkID0+IHsKICAgIGxldCByZXNwb25zZSA9IGF3YWl0IFVzZXIuZ2V0KGB1c2Vycy8ke2lkfWApOwogICAgdXNlci52YWx1ZSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICB9OwoKICBjb25zdCBzdG9yZVVzZXIgPSBhc3luYyBkYXRhID0+IHsKICAgIGF3YWl0IFVzZXIucG9zdChgdXNlcnNgLCBkYXRhKTsKICAgIGF3YWl0IHJvdXRlci5wdXNoKHsKICAgICAgbmFtZTogJ3VzZXIuaW5kZXgnCiAgICB9KTsKICB9OwoKICBjb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgaWQgPT4gewogICAgYXdhaXQgVXNlci5wdXQoYHVzZXJzLyR7aWR9YCwgdXNlci52YWx1ZSk7CiAgICBhd2FpdCByb3V0ZXIucHVzaCh7CiAgICAgIG5hbWU6ICd1c2VyLmluZGV4JwogICAgfSk7CiAgfTsKCiAgY29uc3QgZGVsZXRlVXNlciA9IGFzeW5jIGlkID0+IHsKICAgIGxldCBjb25maXJtID0gd2luZG93LmNvbmZpcm0oJ1dhbnQgdG8gZGVsZXRlIHRoaXMgdXNlciA/Jyk7CgogICAgaWYgKGNvbmZpcm0pIHsKICAgICAgYXdhaXQgVXNlci5kZWxldGUoYHVzZXJzLyR7aWR9YCk7CiAgICAgIGFsZXJ0KCdQbGVhc2Ugb3BlbiBOZXR3b3JrIGxvZyBiZWZvcmUgZGVsZXRpbmcgdG8gY2hlY2sgdGhlIEFQSSByZXNwb25zZScpOwogICAgfQogIH07CgogIHJldHVybiB7CiAgICBkYXRhLAogICAgdXNlciwKICAgIHVzZXJzZGF0YSwKICAgIEVudGlyZVVzZXJMaXN0LAogICAgZ2V0QWxsRGF0YSwKICAgIGdldFVzZXIsCiAgICBkZWxldGVVc2VyLAogICAgdXBkYXRlVXNlciwKICAgIHN0b3JlVXNlciwKICAgIGdldEVudGlyZVVzZXJMaXN0CiAgfTsKfQ=="},{"version":3,"names":["User","useRouter","ref","useUser","data","usersdata","user","router","EntireUserList","getAllData","params","response","get","value","getPageData","getEntireUserList","pageNo","res","page","length","concat","getUser","id","storeUser","post","push","name","updateUser","put","deleteUser","confirm","window","delete","alert"],"sources":["D:/work/test/Userlist/src/composables/Users.js"],"sourcesContent":["import  User  from '../api/UserApi';\nimport { useRouter} from 'vue-router'\nimport { ref } from '@vue/reactivity';\n\nexport default function useUser(){\n    const data= ref([])\n    const usersdata=ref([])\n    const user= ref([])\n    const router = useRouter()\n    const EntireUserList = ref([])\n\n    const getAllData = async (params) => {\n        let response = await User.get('users',{params:params})\n        data.value = response.data;\n        usersdata.value=response.data.data\n\n    }\n    \n    \n    const getPageData = async(params)=>{\n        let response = await User.get('users',{params:params})\n        return response.data.data\n    }\n    \n    //Get all user's data from Paginated Api with recursion     \n    \n    const getEntireUserList = async (pageNo=1)=>{\n        let res = await getPageData({page:pageNo});\n        if (res.length > 0) {\n          EntireUserList.value= EntireUserList.value.concat(res)\n          res.concat(await getEntireUserList(pageNo+1));\n         \n        } else { \n            return \n        }\n        return res\n      }\n\n    const getUser = async (id) => {\n        let response = await User.get(`users/${id}`)\n        user.value = response.data.data;\n    }\n    \n    const storeUser = async (data) => {\n          await User.post(`users`,data)\n          await router.push({name: 'user.index'})\n          \n    }\n\n    const updateUser = async (id) => {\n          await User.put(`users/${id}` , user.value)\n          await router.push({name:'user.index'})\n        }\n    \n    const deleteUser = async (id) => {\n        let confirm=window.confirm('Want to delete this user ?')\n        if(confirm) { \n            await User.delete(`users/${id}`)\n            alert('Please open Network log before deleting to check the API response')\n        }\n   }\n    \n      return {\n            data,\n            user,\n            usersdata,\n            EntireUserList,\n            getAllData,\n            getUser,\n            deleteUser,\n            updateUser,\n            storeUser,\n            getEntireUserList\n      }\n  \n }\n"],"mappings":"AAAA,OAAQA,IAAR,MAAmB,gBAAnB;AACA,SAASC,SAAT,QAAyB,YAAzB;AACA,SAASC,GAAT,QAAoB,iBAApB;AAEA,eAAe,SAASC,OAAT,GAAkB;EAC7B,MAAMC,IAAI,GAAEF,GAAG,CAAC,EAAD,CAAf;EACA,MAAMG,SAAS,GAACH,GAAG,CAAC,EAAD,CAAnB;EACA,MAAMI,IAAI,GAAEJ,GAAG,CAAC,EAAD,CAAf;EACA,MAAMK,MAAM,GAAGN,SAAS,EAAxB;EACA,MAAMO,cAAc,GAAGN,GAAG,CAAC,EAAD,CAA1B;;EAEA,MAAMO,UAAU,GAAG,MAAOC,MAAP,IAAkB;IACjC,IAAIC,QAAQ,GAAG,MAAMX,IAAI,CAACY,GAAL,CAAS,OAAT,EAAiB;MAACF,MAAM,EAACA;IAAR,CAAjB,CAArB;IACAN,IAAI,CAACS,KAAL,GAAaF,QAAQ,CAACP,IAAtB;IACAC,SAAS,CAACQ,KAAV,GAAgBF,QAAQ,CAACP,IAAT,CAAcA,IAA9B;EAEH,CALD;;EAQA,MAAMU,WAAW,GAAG,MAAMJ,MAAN,IAAe;IAC/B,IAAIC,QAAQ,GAAG,MAAMX,IAAI,CAACY,GAAL,CAAS,OAAT,EAAiB;MAACF,MAAM,EAACA;IAAR,CAAjB,CAArB;IACA,OAAOC,QAAQ,CAACP,IAAT,CAAcA,IAArB;EACH,CAHD,CAf6B,CAoB7B;;;EAEA,MAAMW,iBAAiB,GAAG,OAAOC,MAAM,GAAC,CAAd,KAAkB;IACxC,IAAIC,GAAG,GAAG,MAAMH,WAAW,CAAC;MAACI,IAAI,EAACF;IAAN,CAAD,CAA3B;;IACA,IAAIC,GAAG,CAACE,MAAJ,GAAa,CAAjB,EAAoB;MAClBX,cAAc,CAACK,KAAf,GAAsBL,cAAc,CAACK,KAAf,CAAqBO,MAArB,CAA4BH,GAA5B,CAAtB;MACAA,GAAG,CAACG,MAAJ,CAAW,MAAML,iBAAiB,CAACC,MAAM,GAAC,CAAR,CAAlC;IAED,CAJD,MAIO;MACH;IACH;;IACD,OAAOC,GAAP;EACD,CAVH;;EAYA,MAAMI,OAAO,GAAG,MAAOC,EAAP,IAAc;IAC1B,IAAIX,QAAQ,GAAG,MAAMX,IAAI,CAACY,GAAL,CAAU,SAAQU,EAAG,EAArB,CAArB;IACAhB,IAAI,CAACO,KAAL,GAAaF,QAAQ,CAACP,IAAT,CAAcA,IAA3B;EACH,CAHD;;EAKA,MAAMmB,SAAS,GAAG,MAAOnB,IAAP,IAAgB;IAC5B,MAAMJ,IAAI,CAACwB,IAAL,CAAW,OAAX,EAAkBpB,IAAlB,CAAN;IACA,MAAMG,MAAM,CAACkB,IAAP,CAAY;MAACC,IAAI,EAAE;IAAP,CAAZ,CAAN;EAEL,CAJD;;EAMA,MAAMC,UAAU,GAAG,MAAOL,EAAP,IAAc;IAC3B,MAAMtB,IAAI,CAAC4B,GAAL,CAAU,SAAQN,EAAG,EAArB,EAAyBhB,IAAI,CAACO,KAA9B,CAAN;IACA,MAAMN,MAAM,CAACkB,IAAP,CAAY;MAACC,IAAI,EAAC;IAAN,CAAZ,CAAN;EACD,CAHL;;EAKA,MAAMG,UAAU,GAAG,MAAOP,EAAP,IAAc;IAC7B,IAAIQ,OAAO,GAACC,MAAM,CAACD,OAAP,CAAe,4BAAf,CAAZ;;IACA,IAAGA,OAAH,EAAY;MACR,MAAM9B,IAAI,CAACgC,MAAL,CAAa,SAAQV,EAAG,EAAxB,CAAN;MACAW,KAAK,CAAC,mEAAD,CAAL;IACH;EACL,CANA;;EAQE,OAAO;IACD7B,IADC;IAEDE,IAFC;IAGDD,SAHC;IAIDG,cAJC;IAKDC,UALC;IAMDY,OANC;IAODQ,UAPC;IAQDF,UARC;IASDJ,SATC;IAUDR;EAVC,CAAP;AAaJ"}]}